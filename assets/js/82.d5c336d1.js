(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{490:function(t,e,r){"use strict";r.r(e);var a=r(2),_=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"六-动效之效"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#六-动效之效"}},[t._v("#")]),t._v(" 六.动效之效")]),t._v(" "),e("p",[t._v("回头看看，我们花了 5 个小节来啰唆「动效开发」的「动」：")]),t._v(" "),e("ul",[e("li",[t._v("如何动 —— 第 5 小节《让它动起来》")]),t._v(" "),e("li",[t._v("立体地动 —— 第 6 小节《聊一聊 3D》")]),t._v(" "),e("li",[t._v("让浏览器帮忙动 —— 第 7 小节《补间动画》")]),t._v(" "),e("li",[t._v("一帧一帧地动 —— 第 8 小节《逐帧动画》")]),t._v(" "),e("li",[t._v("让 SVG 动 —— 第 9 小节《SVG 动画》")])]),t._v(" "),e("p",[t._v("我们花费力气去做的事情毋庸置疑是重要的，但它距离突破也许还差一点别的东西。就好比一个歌手拼命练习各种花式唱法 —— 高音、颤音、延音无所不能，但缺了情感就算不上伟大的歌手。动效开发也是一样的道理，「动」是招式是基本要求，而「效」才是真正的修炼之道。")]),t._v(" "),e("p",[t._v("我们思考动效之「效」，其实就是要思考如何让我们做出来的动画具备最佳的体验效果，它包括两个方面的内容：")]),t._v(" "),e("ul",[e("li",[t._v("感官体验 —— 如何「动」得自然、有情感、能吸引人？")]),t._v(" "),e("li",[t._v("物理性能 —— 如何「动」得更流畅？")])]),t._v(" "),e("blockquote",[e("p",[t._v("“要写 CSS3 动画，必先学技术。要写好 CSS3 动画，还是得深入探索传统动画的精华。”"),e("br"),t._v("\n—— EC，京东凹凸实验室首席动效开发")])]),t._v(" "),e("p",[t._v("对于「如何提升动画的体验效果」这个话题，我们不妨先以电影之眼来看看 CSS3 动画，也许能从中窥得一些门道。")]),t._v(" "),e("h2",{attrs:{id:"以电影之眼看-css3-动画"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#以电影之眼看-css3-动画"}},[t._v("#")]),t._v(" 以电影之眼看 CSS3 动画")]),t._v(" "),e("p",[t._v("CSS3 动画的变形基础（transform）包含 4 种变形方式（"),e("code",[t._v("translate")]),t._v("、"),e("code",[t._v("rotate")]),t._v("、"),e("code",[t._v("scale")]),t._v("、"),e("code",[t._v("skew")]),t._v("），同时还可设置 2D、3D、变形原点（"),e("code",[t._v("transform-origin")]),t._v("）、透视（"),e("code",[t._v("perspective")]),t._v("）、透视原点（"),e("code",[t._v("perspective-origin")]),t._v("）等等特性；动画时间轴函数包含 9 种基本模式（"),e("code",[t._v("ease")]),t._v("、"),e("code",[t._v("linear")]),t._v("、"),e("code",[t._v("ease-in")]),t._v("、"),e("code",[t._v("ease-out")]),t._v("、"),e("code",[t._v("ease-in-out")]),t._v("、"),e("code",[t._v("step-start")]),t._v("、"),e("code",[t._v("step-end")]),t._v("、"),e("code",[t._v("steps")]),t._v("），甚至还可以使用 "),e("code",[t._v("cubic-bezier")]),t._v(" 写出任何你想要的模式；再加上动画持续时间（"),e("code",[t._v("animation-duration")]),t._v("）等设定，各种排列组合，CSS3 动画简直拥有了整个世界。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f548b6330de2f?w=500&h=247&f=png&s=72291",alt:"动画的时间掌握"}})]),t._v(" "),e("p",[e("em",[t._v("（图片源自《动画的时间掌握》）")])]),t._v(" "),e("h3",{attrs:{id:"关键帧与时间轴"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关键帧与时间轴"}},[t._v("#")]),t._v(" 关键帧与时间轴")]),t._v(" "),e("p",[t._v("根据 "),e("a",{attrs:{href:"http://zh.wikipedia.org/wiki/%E5%8A%A8%E7%94%BB",target:"_blank",rel:"noopener noreferrer"}},[t._v("维基"),e("OutboundLink")],1),t._v(" 的释义，动画是指由许多帧静止的画面，以一定的速度（如每秒 16 张）连续播放时，肉眼因视觉残象产生错觉，而误以为画面活动的作品（GIF 图片正是运用这种原理）。因此最初的动画是通过几张快速翻动的连续画面制作而成，而后经历了电影摄影技术的出现、电脑科技的进步，逐渐转向数字化。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f54b7dac3a43a?w=82&h=82&f=gif&s=2145",alt:"关键帧与时间轴"}})]),t._v(" "),e("p",[t._v("将上面的 GIF 拖入 PS 之后打开时间轴窗口即可看到每一帧的画面：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f54c6ee0f6734?w=319&h=90&f=png&s=5815",alt:"GIF 的每一帧"}})]),t._v(" "),e("p",[t._v("无论是 2D 还是 3D 动画，关键帧，正如其名，是动画制作中最关键的部分，同时也是最难把握的部分。曾经有位设计师告诉我，在大学的第一节 flash 课的课后作业，老师要求大家上交一份小球动画，包含气球、石球与皮球，并告诉大家，以相同的外观表现出不同的质感是在考验你对关键帧的悟性，而这一个作业就能体现你是否适合学习动画。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f54df5946384d?w=500&h=570&f=png&s=151320",alt:"球"}})]),t._v(" "),e("blockquote",[e("p",[t._v("A 需要很大的力才能使一个炮弹移动。一旦它移动了，同样需要很大的力才能阻挡它前进。"),e("br"),t._v("\nB 一只气球只需要很小的力去移动它，但空气阻力使它很快停止动作。"),e("br"),t._v("\n这两个例子都画了动作分格线，可以看出在银幕上表现物体的轻重，取决于对它们动作的时间掌握。"),e("br"),t._v("\n——《动画的时间掌握》")])]),t._v(" "),e("p",[t._v("在"),e("a",{attrs:{href:"http://cghappening.blogspot.com/2011/02/blog-post_23.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("《动画制作流程介绍》"),e("OutboundLink")],1),t._v("提供的视频中可以看到关键帧在动画制作中所起的地基般的作用。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f5501d77b1a0c?w=319&h=226&f=gif&s=4227788",alt:"怪物公司的关键帧"}})]),t._v(" "),e("p",[e("em",[t._v("（画面上方的手绘图即为「怪物公司」的关键帧）")])]),t._v(" "),e("p",[t._v("与关键帧紧密关联的即为时间轴（或摄制表），时间轴是补齐中间帧不可或缺的一项，在传统动画制作中，导演就是通过制定时间轴来掌控整部动画的节奏的。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f55107efc3a14?w=860&h=491&f=png&s=251263",alt:"摄制表"}})]),t._v(" "),e("p",[e("em",[t._v("（摄制表，图片来源：《动画的时间掌握》）")])]),t._v(" "),e("p",[t._v("在 CSS3 中，"),e("code",[t._v("@keyframes")]),t._v(" 正是动画的关键帧容器。"),e("code",[t._v("@keyframes")]),t._v(" 中包含的包括 "),e("code",[t._v("transform")]),t._v(" 在内的元素形态设定构成了关键帧的画面。"),e("code",[t._v("@keyframes")]),t._v(" 中的百分比即为时间轴的体现。中间帧则由浏览器自动完成（回顾第 7 小节的补间动画）。")]),t._v(" "),e("p",[t._v("现在我们知道了 CSS3 动画的结构与传统动画之间的关系，重点来了， CSS3 动画可以做出一部动画电影吗？")]),t._v(" "),e("h2",{attrs:{id:"用-css3-动画做一部动画电影"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用-css3-动画做一部动画电影"}},[t._v("#")]),t._v(" 用 CSS3 动画做一部动画电影")]),t._v(" "),e("p",[t._v("现在就让我们来探讨一下用 CSS3 动画做一部吸引人的动画电影都需要些什么。")]),t._v(" "),e("h3",{attrs:{id:"首先-你需要一个故事"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#首先-你需要一个故事"}},[t._v("#")]),t._v(" 首先，你需要一个故事")]),t._v(" "),e("p",[t._v("首先你需要一个故事，即使只是一堆雪花往下掉，也是包含故事的——为什么下雪？是冬天来了？那是冬天的第一场雪吗？第一场雪有什么特点呢？好吧，作为一个从没见过雪的南方人，我承认我给自己挖了个坑，不过就是类似这种思路，让我们拥有了一个故事，所以，即使只有一秒钟的动画也是有故事的。Use your imagination.")]),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("小贴士")]),t._v("：在做影视题材的专题页时，我会首先根据相关影视的预告片确定入场动画的风格与基调，观看预告片不仅能够了解影片的风格，同时还能学习其字幕出现、消失以及转场的方式，获得一种节奏感，也就是上面所说的时间掌控。在看电影正片时也可留意影片开头与结尾字幕出现的形式，尤其是科幻片，电影字幕的设计与电影风格相辅相成，常常能让你脑洞大开——原来还能这么玩。")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f559139c1a339?w=718&h=397&f=gif&s=3933347",alt:"窃听风云3"}})]),t._v(" "),e("p",[e("a",{attrs:{href:"http://movie.douban.com/trailer/156598/#content",target:"_blank",rel:"noopener noreferrer"}},[t._v("[窃听风云3]预告片"),e("OutboundLink")],1),t._v(" 中字幕出现的方式表现出信号干扰的效果，由此可以将影片相关专题作出这样的开场动画——")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f55894e8dac08?w=520&h=317&f=gif&s=2894038",alt:"窃听风云3"}})]),t._v(" "),e("p",[t._v("简单的几个不同色调的图片进行替换就能做出类似效果，代码也灰常简单（看 "),e("a",{attrs:{href:"http://jdc.jd.com/demo/ec/movieeye/doing_movie_by_css3.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),e("OutboundLink")],1),t._v("）：")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("@keyframes peoInner{\n\t0%, 12.5%, 16.5%, 20.5% { background:none; }\n\t10%, 12% { background:url(../img_bg/casts_adv_green_red.jpg) no-repeat 0 0; }\n\t14%, 16% { background:url(../img_bg/casts_adv_green_red.jpg) no-repeat 0 -725px; }\n\t18%, 20% { background:url(../img_bg/casts_adv_green_red.jpg) no-repeat 0 -725px; }\n\t13%, 17%, 21%, 100% { background:url(../img_bg/cast_adv_01.jpg) no-repeat top center; }\n}\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("p",[t._v("但是，需要注意的是，这种变换 "),e("code",[t._v("background")]),t._v(" 的动画方式属于页面性能中的大忌，不建议使用。可使用多个 DOM 结点控制透明度动画来实现同样的效果。")]),t._v(" "),e("h3",{attrs:{id:"设计关键帧与时间轴"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设计关键帧与时间轴"}},[t._v("#")]),t._v(" 设计关键帧与时间轴")]),t._v(" "),e("p",[t._v("当我们在脑内小剧场构思好动画小故事之后（当然，你也可以将它写下来），我们就可以进行关键帧与时间轴的设计了。")]),t._v(" "),e("blockquote",[e("p",[t._v("任何人都可以用电脑动画软件将一个物体移动。"),e("br"),t._v("\n但是如何赋予物体重量、大小、规模、移动和幽默感，这些都与你如何移动物体相关。"),e("br"),t._v("\n电脑不能为动画师创造动画，动画师仍然需要了解时间掌握的原则知识以赋予电脑动画生命力。"),e("br"),t._v("\n——《动画的时间掌握》")])]),t._v(" "),e("p",[t._v("这时需要注意的是因果关系对动画的影响，“一个动画师必须懂得自然界物体运动的力学知识”，这样“才能创造情绪和表达正确的感觉。” 我们来看看为了使动画更加流畅真实，迪士尼爷爷想出了什么办法。「白雪公主与七个小矮人」作为 80、90 后动画电影启蒙，使用了一项革新动画制作的技术——"),e("a",{attrs:{href:"http://zh.wikipedia.org/wiki/%E8%BD%AC%E6%8F%8F%E6%9C%BA%E6%8A%80%E6%9C%AF",target:"_blank",rel:"noopener noreferrer"}},[t._v("转描机"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f5799d8dee2b0?w=400&h=280&f=gif&s=7797119",alt:"转描机"}})]),t._v(" "),e("p",[e("em",[t._v("（图片来源：视频 "),e("a",{attrs:{href:"https://www.bilibili.com/video/av19937746/",target:"_blank",rel:"noopener noreferrer"}},[t._v("【DizAvenue】制作白雪公主的故事 The Making of Snow White"),e("OutboundLink")],1),t._v("）")])]),t._v(" "),e("h4",{attrs:{id:"迪士尼动画十二原则的运用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#迪士尼动画十二原则的运用"}},[t._v("#")]),t._v(" 迪士尼动画十二原则的运用")]),t._v(" "),e("p",[t._v("视频中有一个细节，迪士尼爷爷让动画师注意那位大叔在跳踢踏舞时重力对裤腿的作用（20 分 20 秒）。是的，迪士尼爷爷强调的就是动画与物理学的关系。")]),t._v(" "),e("p",[t._v("迪士尼工作室在早期，将他们在动画实践中所总结出的规律总结成为了经典的"),e("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E5%8B%95%E7%95%AB%E7%9A%8412%E9%A0%85%E5%9F%BA%E6%9C%AC%E6%B3%95%E5%89%87",target:"_blank",rel:"noopener noreferrer"}},[t._v("《动画12原则》"),e("OutboundLink")],1),t._v("，可以说这 12 原则就是让迪士尼动画在当时脱颖而出的黄金原则，即便是现如今看来，这 12 原则也并不过时，甚至可以扩展运用至网页交互动效中。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f659186f325fa?w=1039&h=285&f=png&s=105616",alt:"迪士尼十二原则"}})]),t._v(" "),e("p",[t._v("依其第 5 条「动作的惯性跟随和重叠」，我们可以将网页元素看作一个有重量、有结构、有柔韧性的物体进行动画设计，会得到意想不到的效果。事实上已经有人这么做了——")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f57b19390c352?w=467&h=488&f=gif&s=2044217",alt:"dribbble’s stripe checkout"}})]),t._v(" "),e("p",[e("em",[t._v("（dribbble’s stripe checkout，图片来源："),e("a",{attrs:{href:"http://markgeyer.com/pres/the-art-of-ui-animations/#/2/9",target:"_blank",rel:"noopener noreferrer"}},[t._v("The Art of Animation"),e("OutboundLink")],1),t._v("）")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f57b9c771658c?w=396&h=534&f=gif&s=1328667",alt:"Giving Animations Life"}})]),t._v(" "),e("p",[e("em",[t._v("（图片来源："),e("a",{attrs:{href:"https://medium.com/tictail-makers/giving-animations-life-8b20165224c5",target:"_blank",rel:"noopener noreferrer"}},[t._v("Giving Animations Life"),e("OutboundLink")],1),t._v("）")])]),t._v(" "),e("p",[t._v("在实现过程中，我们可以选择合适的时间轴函数来达成这些效果，或者使用 "),e("a",{attrs:{href:"http://bouncejs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bounce.js"),e("OutboundLink")],1),t._v(" 这样的弹性动效库，给元素加上弹性动效后，通常能够事半功倍地增加动效的活力与吸引力，但同样的，过犹不及，一切动效的添加都要讲究适度。")]),t._v(" "),e("p",[t._v("对于时间轴函数之贝塞尔曲线的应用，笔者推荐两个工具："),e("a",{attrs:{href:"http://cubic-bezier.com/#.17,.67,.83,.67",target:"_blank",rel:"noopener noreferrer"}},[t._v("贝塞尔曲线在线调试工具"),e("OutboundLink")],1),t._v(" 以及 "),e("a",{attrs:{href:"http://easings.net/zh-cn#",target:"_blank",rel:"noopener noreferrer"}},[t._v("贝塞尔缓动函数库"),e("OutboundLink")],1),t._v("，能够帮助大家快速选取合适的贝塞尔曲线函数。")]),t._v(" "),e("p",[t._v("其第 8 条「次要动作」，在案例《拍拍七夕活动页－七叻个夕》中就得到应用（目前案例已下线），如下图所示：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f65c1a1714a19?w=650&h=568&f=gif&s=357930",alt:"次要动作"}})]),t._v(" "),e("p",[t._v("头花的颤抖的次要动作的加入，不仅衬托得人物的抖动的主要动作更加生动、真实，还令人物情绪的体现更加饱满、感觉更有生命力。")]),t._v(" "),e("p",[t._v("对于这十二条原则的进一步学习，笔者推荐"),e("a",{attrs:{href:"http://www.zcool.com.cn/article/ZNDI1ODAw.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("《入门必读！迪士尼影响至今的十二条动画经典法则 》"),e("OutboundLink")],1),t._v(" 一文，里面介绍了每条法则的具体内容，必定能让你有所受益。")]),t._v(" "),e("h4",{attrs:{id:"对动画过渡时间的把握"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对动画过渡时间的把握"}},[t._v("#")]),t._v(" 对动画过渡时间的把握")]),t._v(" "),e("p",[t._v("Google 在 Material Design 指南中提及 "),e("a",{attrs:{href:"https://material.io/guidelines/motion/duration-easing.html#duration-easing-speed",target:"_blank",rel:"noopener noreferrer"}},[t._v("动效过渡时间"),e("OutboundLink")],1),t._v("：对于用于交互操作场景的补间动画而言，短动画时间应该控制在 150～200ms，而长动画控制在 300～400ms。而对于用于呈现场景的补间动画则视具体而定，以真实世界为参考标准是最好的。")]),t._v(" "),e("h3",{attrs:{id:"不断地修改与调整"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#不断地修改与调整"}},[t._v("#")]),t._v(" 不断地修改与调整")]),t._v(" "),e("p",[t._v("这是一个需要细致与耐心的过程，你得在不断的调整中保持大局观，避免陷入细节的纠结，同时又需要有能够将别扭的细节调整好的灵感。说白了就是同时拥有汉子的粗犷与妹子的细腻。节奏是一个很重要的因素，与银幕上的动画类似，CSS3 动画创作者的意念必须即时并完全交给观众。")]),t._v(" "),e("p",[t._v("意念清晰易懂靠两个因素：")]),t._v(" "),e("blockquote",[e("p",[t._v("(1) 好的表现手法和设计，要使每个主要动作能以最清楚和最有效的方式呈现在银幕上。"),e("br"),t._v("\n(2) 好的时间掌握，要有足够的时间先使用户预感到将有什么事情发生，然后用于表现动作本身，最后要有好的收尾。 这三者中，任何一项所占时间太多，便会感觉节奏太慢，用户会感到不耐烦，动画的出现便如同鸡肋。 反之，如果时间太短，那么用户在注意到它之前，动作已经结束，创作者的意念未能充分表达，就浪费掉了。"),e("br"),t._v("\n——《动画的时间掌握》")])]),t._v(" "),e("h2",{attrs:{id:"别忘了性能测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#别忘了性能测试"}},[t._v("#")]),t._v(" 别忘了性能测试")]),t._v(" "),e("p",[t._v("这是有可能推翻前面两步甚至三步的一个步骤。不过即便发生了这样的事，也不要气馁，这并不意味着之前做的前功尽弃，反而是个宝贵的财富——对于性能的感受又多了一次体验，而其中的一些动画心得或许下次能用上。")]),t._v(" "),e("h3",{attrs:{id:"别只专注于动画的实现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#别只专注于动画的实现"}},[t._v("#")]),t._v(" 别只专注于动画的实现")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f57d943bf5ae0?w=194&h=83&f=gif&s=560994",alt:"Pseudo-Elements Animations and Transitions"}})]),t._v(" "),e("p",[e("em",[t._v("（动画来源："),e("a",{attrs:{href:"http://tympanus.net/Development/PseudoElementsAnimationsTransitions/index4.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pseudo-Elements Animations and Transitions"),e("OutboundLink")],1),t._v("）")])]),t._v(" "),e("p",[t._v("这是个使用最简单的 CSS 属性 —— "),e("code",[t._v("padding")]),t._v("、"),e("code",[t._v("line-height")]),t._v("、"),e("code",[t._v("box-shadow")]),t._v(" 实现了令人吃了一斤效果的栗子，就像一道脑筋急转弯一样，让大家对 CSS3 动画的理解不止于 CSS3 的新属性，我们曾经用烂的 CSS2.0 属性同样也能开出花儿。然而，这个例子所用的 CSS 属性对于性能的影响并不适用于生产环境。")]),t._v(" "),e("h3",{attrs:{id:"更高效的-css-属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更高效的-css-属性"}},[t._v("#")]),t._v(" 更高效的 CSS 属性")]),t._v(" "),e("p",[t._v("我们知道，页面渲染的一般过程为 "),e("code",[t._v("JS > CSS > 计算样式 > 布局 > 绘制 > 渲染层合并")]),t._v("，如下图所示：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f65e6fb4c861a?w=1093&h=167&f=png&s=33641",alt:"页面渲染"}})]),t._v(" "),e("p",[t._v("其中，Layout（重排）和 Paint（重绘） 是整个环节中最为耗时的两环，所以我们应尽量避免使用触发这两个环节的 CSS 属性。")]),t._v(" "),e("p",[t._v("例如，最基本的一个注意点是：使用切换类名的方式来触发动画，而不是使用 "),e("code",[t._v("diaplay: none")]),t._v(" 属性值，因为它会引起相关元素的重排和重绘。")]),t._v(" "),e("p",[t._v("除此之外，下面几个属性的替换使用也是值得推荐的：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("translate")]),t._v(" 属性替换 "),e("code",[t._v("top/left/right/bottom")])]),t._v(" "),e("li",[e("code",[t._v("scale")]),t._v(" 属性换 "),e("code",[t._v("width/height")])]),t._v(" "),e("li",[e("code",[t._v("opacity")]),t._v(" 属性替换 "),e("code",[t._v("display/visibility")])])]),t._v(" "),e("p",[t._v("笔者这里推荐 "),e("a",{attrs:{href:"http://csstriggers.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS Triggers"),e("OutboundLink")],1),t._v("，通过它你可以查阅到各 CSS 属性及其影响的环节，从而避免不小心使用到性能开销较大的属性。")]),t._v(" "),e("p",[t._v("除此之外，对动画渲染的优化还有其他方式，这里抛出 @登平登平 在 "),e("a",{attrs:{href:"https://weibo.com/p/1001603865643593165786",target:"_blank",rel:"noopener noreferrer"}},[t._v("《H5 动画 60fps 之路》"),e("OutboundLink")],1),t._v("一文中的总结，同学们可以前往原文进行进一步的学习。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/5/161f66575fbbb137?w=1632&h=628&f=png&s=375991",alt:"H5 动画 60fps 之路"}})]),t._v(" "),e("h2",{attrs:{id:"扩展阅读"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#扩展阅读"}},[t._v("#")]),t._v(" 扩展阅读")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://www.zcool.com.cn/article/ZNDI1ODAw.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("《入门必读！迪士尼影响至今的十二条动画经典法则 》"),e("OutboundLink")],1),t._v(" —— 详细了解迪士尼十二条动画经典法则")]),t._v(" "),e("li",[e("a",{attrs:{href:"http://blog.jobbole.com/76194/",target:"_blank",rel:"noopener noreferrer"}},[t._v("《让界面动画更自然－ISUX》"),e("OutboundLink")],1),t._v(" —— 如何合理选用动画曲线函数")]),t._v(" "),e("li",[e("a",{attrs:{href:"http://cubic-bezier.com/#.17,.67,.83,.67",target:"_blank",rel:"noopener noreferrer"}},[t._v("贝塞尔曲线在线调试工具"),e("OutboundLink")],1),t._v(" 以及 "),e("a",{attrs:{href:"http://easings.net/zh-cn#",target:"_blank",rel:"noopener noreferrer"}},[t._v("贝塞尔缓动函数库"),e("OutboundLink")],1),t._v(" —— 帮助你快速选取合适的贝塞尔曲线函数")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.smashingmagazine.com/2011/09/the-guide-to-css-animation-principles-and-examples/",target:"_blank",rel:"noopener noreferrer"}},[t._v("The Guide To CSS Animation: Principles and Examples"),e("OutboundLink")],1),t._v(" —— 很老的一篇英文文章，以示例的方式介绍了迪士尼的十二条动画法则")])])])}),[],!1,null,null,null);e.default=_.exports}}]);